<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:p="http://primefaces.org/ui"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core">
<ui:composition template="/public/basic/templates/simpleProcess.xhtml">
	<ui:param name="title" value="Analaudos - Analisador semântico de laudos médicos" />
	<ui:param name="icon" value="../../public/analaudos/img/logo_180x180.png" />
	<ui:param name="description" value="Esta página é útil para análise de documentos individuais &lt;br/&gt;" />
	<ui:define name="content">
		<script src="./js/springy.js"/>
		<script src="./js/springyui.js"/>
		<script src="./js/utils.js"/>
		<script src="./js/analaudos.js"/>
		<script src="./js/jquery.growl.js"/>
		<script src='https://code.responsivevoice.org/responsivevoice.js'/>
		<link href="css/jquery.growl.css" rel="stylesheet" type="text/css" />
		<link href="css/analaudos.css" rel="stylesheet" type="text/css" />
		<script src="./js/viz.js"/>
		<fieldset>
	 		<legend>Documento</legend>
			<h:inputTextarea id="sourceText" rows="6" style="width: 100%; font-size: 16px;" value="Digite aqui seu documento"/>
			<p:button onclick="analaudos.init(jQuery('#form\\:sourceText')[0], jQuery('#graph')); return false;" value="Gerar grafo"/>
			<input id="newNode" type="text"></input>
			<p:button onclick="analaudos.addNode(jQuery('#newNode')[0].value); return false;" value="Adicionar novo nó"/>
			<p:button onclick="analaudos.arrange(); return false;" value="Re-arranjar" />
			<p:button onclick="analaudos.removeOrphans(); return false;" value="Remover órfãos"/>
			<p:button onclick="analaudos.reverseEdges(); return false;" value="Inverter" title="Inverte a direção das arestas"/>
			<p:button onclick="analaudos.joinNodes(); return false;" value="Join" title="Junta os nós com mesmas identificação em um só nó"/>
	 	</fieldset>
		<fieldset>
		 	<legend onclick="document.getElementById('graph').height = document.getElementById('graph').height + 100">Grafo</legend>
			<canvas id="graph" height="100" width="100"/>
		</fieldset>
	</ui:define>
	<ui:define name="actions">
		Ações:
		<textarea id="areaActions" rows="6" style="width: 100%; background: lightgray;"/>
		.dot:
		<textarea id="areaGraphDot" rows="6" style="width: 100%; background: lightgray;"/>
		JSON:
		<textarea id="areaGraphJson" rows="6" style="width: 100%; background: lightgray;"/>
		<p:button onclick="document.getElementById('areaGraphDot').value = analaudos.createDot(); document.getElementById('areaGraphJson').value = analaudos.createJson(); document.getElementById('areaActions').value = analaudos.actionsHistory.join(';\n'); return false;" value="Copiar .dot .json"/>
		<p:button onclick="analaudos.loadJson(document.getElementById('areaGraphJson').value); return false;" value="Carregar .json"/>
		<p:button onclick="analaudos.createImagePopup(document.getElementById('areaGraphDot').value); return false;" value="Ver grafo"/>
		
		<script type="text/javascript">
			// analaudos.init(jQuery('#form\\:sourceText')[0], jQuery('#graph'));
		</script>
		<span style="color: lightgray;">#{createDocumentGraphBean.documentGraph.object.author}</span>
	</ui:define>
</ui:composition>
</html>
